<div class="add-task-container">
  <mat-card class="add-task-card">
    <mat-card-title>Add New Task</mat-card-title>
    <mat-card-content>
      <form #taskForm="ngForm" (ngSubmit)="onSubmit(taskForm)" class="task-form">

        <!-- Title -->
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Task Title</mat-label>
          <input
            matInput
            type="text"
            name="title"
            required
            minlength="3"
            [(ngModel)]="task.title"
            #title="ngModel" />
          <mat-error *ngIf="title.invalid && title.touched">
            Title is required (min 3 characters).
          </mat-error>
        </mat-form-field>

        <!-- Description -->
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Description</mat-label>
          <textarea
            matInput
            name="description"
            rows="3"
            required
            [(ngModel)]="task.description"
            #description="ngModel">
          </textarea>
          <mat-error *ngIf="description.invalid && description.touched">
            Description is required.
          </mat-error>
        </mat-form-field>

        <!-- Status -->
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Status</mat-label>
          <mat-select name="status" required [(ngModel)]="task.status" #status="ngModel">
            <mat-option value="pending">Pending</mat-option>
            <mat-option value="in-progress">In Progress</mat-option>
            <mat-option value="completed">Completed</mat-option>
          </mat-select>
          <mat-error *ngIf="status.invalid && status.touched">
            Please select a status.
          </mat-error>
        </mat-form-field>

        <!-- Buttons -->
        <div class="button-group">
          <button mat-raised-button color="primary" type="submit" [disabled]="taskForm.invalid">
            Save Task
          </button>
          <button mat-stroked-button color="warn" type="button" (click)="onCancel()">
            Cancel
          </button>
        </div>

      </form>
    </mat-card-content>
  </mat-card>
</div>
